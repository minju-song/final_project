<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/">

<head>
	<meta charset="UTF-8">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">
</head>

<body style="background: #fff;">
	<div class="body_container" align="center">
		<div class="img_wrap">
			<img alt="welcome"
				th:src="@{https://postfiles.pstatic.net/MjAyMzExMzBfMTU2/MDAxNzAxMzMxMDA2MjA3.xdySJ2E3jW441C5xPiSUqv_evdOPB2smzzL4P96gq7og.SXZgoi9Z8uQoBaJarvkoPkUTP5qWXjrZlGAqT0d-ym0g.PNG.songjaeskkk/%ED%81%B4%EB%9F%BD_%EA%B0%80%EC%9E%85_%EC%8B%A0%EC%B2%AD%EC%9D%B4_%EB%8F%84%EC%B0%A9%ED%95%98%EC%98%80%EC%8A%B5%EB%8B%88%EB%8B%A4_(2).png?type=w966}"
				style="width: 50vw; max-width: 800px; min-width: 500px;">
		</div>

		<div class="btn_wrap"
			style="width: 50vw; max-width: 800px; min-width: 500px; border: 2px solid #e6e6e6; margin-bottom: 150px;">
			<p th:text="${clubName + '모임으로 '+member+'님이 가입 요청을 보냈습니다.'}" style="font-weight: 700; font-size: 30px;"></p>
			<p th:text="${text}" style="font-weight: 700; font-size: 30px;"></p>
			<a th:href="@{http://localhost:8090/joinClubMail(clubId=${club},memberId=${member})}">승인</a>
		</div>
	</div>

	<script th:inline="javascript">
		let clubId = [[${ club }]];
		let member = [[${ member }]];

		let data = { clubId: clubId, memberId: member };
		let reqBtn = document.getElementById('acceptReq');

		reqBtn.addEventListener('click', accept);

		function accept(e) {
			console.log('승인클릭');
			fetch('http://localhost:8090/joinClubMail', {
				method: 'POST',
				headers: {
					"Content-Type": `application/json`, // application/json 타입 선언
				},
				body: JSON.stringify(data)
			}).then(result => console.log(result));
		}

	</script>
</body>

</html>